:stylus
  @font-face {
    font-family: '#{font.fontname}';
    src: url('#{font.fontname}.eot');
    src: url('#{font.fontname}.eot?#iefix') format('embedded-opentype'),
         url('#{font.fontname}.woff') format('woff'),
         url('#{font.fontname}.ttf') format('truetype'),
         url('#{font.fontname}.svg##{font.fontname}') format('svg');
    font-weight: normal;
    font-style: normal;
  }

  [class*="#{meta.css_prefix}"]
    &:before
      font-family '#{font.fontname}'
      font-style normal
      font-weight normal
      speak none

      display inline-block
      text-decoration inherit
      width 1em
      margin-right .2em
      font-size 24px
      text-align center
      opacity .8
      
      -webkit-font-smoothing: antialiased;
      font-smoothing: antialiased;
      text-rendering: optimizeLegibility;

| <style type="text/css">

- var i, g, css, hex, chr
- for (i in glyphs)
  - g = glyphs[i]
  - css = meta.css_prefix + g.css
  - hex = '\\' + g.code.toString(16)
  - chr = unichr(g.code)
  != '\n'
  - if (0xffff < g.code)
    | .#{css}:before { content: '#{chr}'; } /* '#{hex}' */
  - else
    | .#{css}:before { content: '#{hex}'; } /* '#{chr}' */

| </style>

